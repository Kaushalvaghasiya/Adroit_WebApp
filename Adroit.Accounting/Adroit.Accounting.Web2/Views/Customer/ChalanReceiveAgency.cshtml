@model Adroit.Accounting.Model.ViewModel.LRBookingViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="dv-list side-app">
    <!-- page-header -->
    <div class="row">
        <div class="col-md-12 col-lg-12">
            <div class="page-header">
                <ol class="breadcrumb breadcrumb-arrow">
                    <li><a href="#">Delivery</a></li>
                    <li><a href="#">Chalan Receive</a></li>
                    <li class="active"><span>Agency</span></li>
                </ol>
                <div class="ml-auto">
                    <div class="input-group">
                        <a href="#" class="btn btn-secondary text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Bookmark this page">
                            <span>
                                <i class="fa fa-star"></i>
                            </span>
                        </a>
                        <a href="lockscreen.html" class="btn btn-primary text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="lock">
                            <span>
                                <i class="fa fa-lock"></i>
                            </span>
                        </a>
                        <a href="#" class="btn-add-new btn btn-warning text-white btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Add New">
                            <span>
                                <i class="fa fa-plus"></i>
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End page-header -->
    <!-- row -->
    <div class="row">
        <div class="col-md-12 col-lg-12">
            <div class="card">
                <div class="card-header">
                </div>
                <div class="card-body pt-0">
                    <div class="table-responsive">
                        <table id="tblMain" class="table table-bordered key-buttons text-nowrap">
                            <thead>
                                <tr>
                                    <th class="border-bottom-0">CHALLAN#</th>
                                    <th class="border-bottom-0">DATE</th>
                                    <th class="border-bottom-0">AMOUNT</th>
                                    <th class="border-bottom-0">TO CITY</th>
                                    <th class="border-bottom-0 text-center" style="width:80px!important;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- row end -->
</div>
<div class="dv-detail side-app">
    <!-- page-header -->
    <div class="row">
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
            <div class="page-header">
                <ol class="breadcrumb breadcrumb-arrow">
                    <li><a href="#">Delivery</a></li>
                    <li><a href="#">Chalan Receive</a></li>
                    <li><a href="#">Agency</a></li>
                    <li class="active"><span>Add/Edit (ID# 100)</span></li>
                </ol>
                <div class="ml-auto">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search E-Way Bill...">
                        <span class="input-group-append mr-2">
                            <button class="btn btn-primary" type="button">Go!</button>
                        </span>
                        <a href="#" class="btn btn-primary text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Save">
                            <span>
                                <i class="fa fa-save"></i>
                            </span>
                        </a>
                        <a href="#" class="btn btn-blue text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Print">
                            <span>
                                <i class="fa fa-print"></i>
                            </span>
                        </a>
                        <a href="#" class="btn btn-success text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Send">
                            <span>
                                <i class="fa fa-share-alt"></i>
                            </span>
                        </a>
                        <a href="#" class="btn btn-danger text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Delete">
                            <span>
                                <i class="fa fa-trash-o"></i>
                            </span>
                        </a>
                        <a href="#" class="btn-add-new btn btn-warning text-white mr-2 btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="New">
                            <span>
                                <i class="fa fa-plus"></i>
                            </span>
                        </a>
                        <a href="#" class="btn-back btn btn-gray text-white btn-sm" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Cancel">
                            <span>
                                <i class="fa fa-arrow-left"></i>
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End page-header -->
    <!-- row -->
    <div class="row">
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
            <div class="card">
                <div class="card-header">
                    <!--<h3 class="card-title">Add/Edit Product</h3>-->
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-horizontal">
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-1 form-label">Sender Name</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">1 Branch [CITY]</option>
                                            <option value="1">2 Branch [CITY]</option>
                                            <option value="1">3 Branch [CITY]</option>
                                            <option value="1">4 Branch [CITY]</option>
                                        </select>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label mb-1">Arrival Date</label>
                                    <div class="col-md-2">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="fa fa-calendar tx-16 lh-0 op-6"></i>
                                                </div>
                                            </div>
                                            <input class="form-control fc-datepicker" placeholder="MM/DD/YYYY" type="text">
                                        </div>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label">Branch Rec. #</label>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label mb-1">Firm Rec. #</label>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-1 form-label">Firm Chalan#</label>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label mb-1">Date</label>
                                    <div class="col-md-2">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="fa fa-calendar tx-16 lh-0 op-6"></i>
                                                </div>
                                            </div>
                                            <input class="form-control fc-datepicker" placeholder="MM/DD/YYYY" type="text">
                                        </div>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label">From</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 [CITY]</option>
                                            <option value="1">2 [CITY]</option>
                                            <option value="1">3 [CITY]</option>
                                            <option value="1">4 [CITY]</option>
                                        </select>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label">To</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 [CITY]</option>
                                            <option value="1">2 [CITY]</option>
                                            <option value="1">3 [CITY]</option>
                                            <option value="1">4 [CITY]</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-1 form-label">Vehicle#</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 [CITY]</option>
                                            <option value="1">2 [CITY]</option>
                                            <option value="1">3 [CITY]</option>
                                            <option value="1">4 [CITY]</option>
                                        </select>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label">Bill Party</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 [CITY]</option>
                                            <option value="1">2 [CITY]</option>
                                            <option value="1">3 [CITY]</option>
                                            <option value="1">4 [CITY]</option>
                                        </select>
                                    </div>
                                    <label for="exampleInputname" class="col-md-1 form-label">Driver</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 [CITY]</option>
                                            <option value="1">2 [CITY]</option>
                                            <option value="1">3 [CITY]</option>
                                            <option value="1">4 [CITY]</option>
                                        </select>
                                    </div>
                                    <label for="EwayBillNumber" class="col-md-1 form-label">E-Way Bill Part-B</label>
                                    <div class="col-md-2" style="display:flex;">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 Branch [CITY]</option>
                                            <option value="1">2 Branch [CITY]</option>
                                            <option value="1">3 Branch [CITY]</option>
                                            <option value="1">4 Branch [CITY]</option>
                                        </select>
                                        <span class="input-group-append">
                                            <a hre="#" class="btn btn-primary text-white" id=""
                                               data-container="body" data-toggle="popover" data-popover-color="default"
                                               data-placement="bottom" title="Popover bottom">
                                                <i class="side-menu__icon typcn typcn-clipboard">
                                                </i>
                                            </a>
                                        </span>
                                    </div>
                                </div>

                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-1 form-label">Godown No</label>
                                    <div class="col-md-2">
                                        <select class="form-control select2-show-search mode-ed" id="">
                                            <option value="1">1 Branch [CITY]</option>
                                            <option value="1">2 Branch [CITY]</option>
                                            <option value="1">3 Branch [CITY]</option>
                                            <option value="1">4 Branch [CITY]</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12  p-0">
                                    <div class="card" style="max-height: 202px; overflow-x: hidden; overflow-y: auto;">
                                        <div class="row m-0">
                                            <div id="LRTbl" class="m-0 p-2 col-md-12">
                                                <div class="row">
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Sr #</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">E-Way Bill(A)</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">LR#</div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">LR Date</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Pvt.Mark</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">From City</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">To City</div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">Consignor</div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">Consignee</div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fa fa-calendar tx-16 lh-0 op-6"></i>
                                                                </div>
                                                            </div>
                                                            <input class="form-control fc-datepicker" placeholder="MM/DD/YYYY" type="text">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="row" style="justify-content: flex-end;">
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Parcel</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Chg. Wgt</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Pay Type</div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">Bill Party</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Net Amount</div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">Action</div>
                                                </div>
                                                <div class="row" style="justify-content: flex-end;">
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-2 pl-2 pr-2 text-center">
                                                        <select class="form-control select2-show-search mode-ed" id="">
                                                            <option value="1">1 [CITY]</option>
                                                            <option value="1">2 [CITY]</option>
                                                            <option value="1">3 [CITY]</option>
                                                            <option value="1">4 [CITY]</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                                    </div>
                                                    <div class="col-md-1 pl-2 pr-2 text-center">
                                                        <a href="javascript:addRow();" class="btn btn-outline-primary small-icon-btn content-rows-add-btn" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Add"><i class="fa fa-plus"></i></a>
                                                        <a href="javascript:deleteRow(' + contentRowId + ');" class="btn btn-outline-danger small-icon-btn" data-toggle="tooltip" title="" data-placement="bottom" data-original-title="Delete"><i class="fa fa-trash-o"></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <div class="form-horizontal">
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">TO PAY(TO PAY)</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="" tabindex="-1">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Charged To</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">Paid</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="" tabindex="-1">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">TBB</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="" tabindex="-1">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">Total</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="" tabindex="-1">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">[CHARGE 1]</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Charged To</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">[CHARGE 2]</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Charged To</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">[CHARGE 3].</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Charged To</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">[CHARGE 4]</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Charged To</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-3 form-label">Brokerage</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                    <label for="exampleInputname" class="col-md-2 form-label mb-1">Broker</label>
                                    <div class="col-md-4">
                                        <select class="form-control select2-show-search" id="">
                                            <option value="1">1 Name [Mobile]</option>
                                            <option value="2">2 Name [Mobile]</option>
                                            <option value="3">3 Name [Mobile]</option>
                                            <option value="4">4 Name [Mobile]</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-horizontal">
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Lorry Hire/ Freight</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Less TDS</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Cash To Lorry Trip</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Bank Transfer To Lorry Trip</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Received Cash By Driver</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Other Exp of Trip</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">Other Less</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <label for="exampleInputname" class="col-md-6 form-label">NET AMOUNT</label>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="exampleInputname" placeholder="" readonly>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row mb-1">
                                <label for="exampleInputname" class="col-md-2 form-label">Remarks</label>
                                <div class="col-md-10">
                                    <input type="text" class="form-control" id="exampleInputname" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-right">
                    <a href="#" class="btn btn-primary mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Save"><i class="fa fa-save"></i>&nbsp;Save</a>
                    <a href="#" class="btn btn-blue mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Print"><i class="fa fa-print"></i>&nbsp;Print</a>
                    <a href="#" class="btn btn-success mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Send"><i class="fa fa-share-alt"></i>&nbsp;Send</a>
                    <a href="#" class="btn btn-danger mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Delete"><i class="fa fa-trash-o"></i>&nbsp;Delete</a>
                    <a href="#" class="btn-back btn btn-warning mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Cancel"><i class="fa fa-plus"></i>&nbsp;New</a>
                    <a href="#" class="btn-back btn btn-gray mt-1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Cancel"><i class="fa fa-arrow-left"></i>&nbsp;Cancel</a>
                </div>
            </div>
        </div>
    </div>
    <!-- row end -->
</div>

@section Scripts
{
    <script>

        $(function (e) {
            $('.dv-list').show();
            $('.dv-detail').hide();
            // bindDatatableList();

            addClick();
        });

        function addClick() {
            $('.dv-list').slideUp();
            $('.dv-detail').slideDown();
            fromReset();
            setScreenMode(false);
            $(".btn-delete").hide();
        }

        function viewMode(id) {
            getDetail(id, true);
        }

        function editMode(id) {
            getDetail(id, false);
        }

        function refreshDatatableList() {
            $('#tblMain').DataTable().ajax.reload();
        }

        function bindDatatableList() {
            let columns = [];
            let colDef = [];
            colDef.push({
                "render": function (data, type, row) {
                    return row.lrNumber;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return moment(row.lrDate.split('T')[0]).format('DD/MM/YYYY');
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.consignor;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.amount.toFixed(2);
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.cityTo;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.lrPayType;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.parcel;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.actualWeight;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.chargeWeight;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.consignee;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    return row.billPartyName;
                },
                "targets": colDef.length,
            });
            colDef.push({
                "render": function (data, type, row) {
                    let btnAct = "<div class='btn-list'> ";
                    if (row.isLRBookingPurchased === false)
                        btnAct += "<a href='#' class='btn-edit btn btn-outline-warning small-icon-btn' data-value='" + row.id + "' data-toggle='tooltip' title='Edit' data-placement='bottom' data-original-title='Edit'><i class='fa fa-pencil'></i></a>&nbsp;&nbsp;";
                    btnAct += "<a href='#' class='btn-view btn btn-outline-info small-icon-btn' data-value='" + row.id + "' data-toggle='tooltip' title='View' data-placement='bottom' data-original-title='View'><i class='fa fa-info'></i></a>&nbsp;&nbsp;";

                    if (row.deleted === false && row.isLRBookingPurchased === false)
                        btnAct += "<a href='#' class='btn-delete-grid btn btn-outline-danger small-icon-btn' data-value='" + row.id + "' data-toggle='tooltip' title='Cancel' data-placement='bottom' data-original-title='Cancel'><i class='fa fa-trash-o'></i></a>";
                    btnAct += "</div>";
                    return btnAct;
                },
                "targets": colDef.length,
                "className": "text-center",
                "orderable": false
            });

            columns.push({ "data": "lrNumber", "name": "lrNumber" });
            columns.push({ "data": "lrDate", "name": "lrDate" });
            columns.push({ "data": "consignor", "name": "consignor" });
            columns.push({ "data": "amount", "name": "amount" });
            columns.push({ "data": "cityTo", "name": "cityTo" });
            columns.push({ "data": "type", "name": "type" });
            columns.push({ "data": "parcel", "name": "parcel" });
            columns.push({ "data": "actualWeight", "name": "actualWeight" });
            columns.push({ "data": "chargeWeight", "name": "chargeWeight" });
            columns.push({ "data": "consignee", "name": "consignee" });
            columns.push({ "data": "billPartyName", "name": "billPartyName" });

            var table = $('#tblMain').DataTable({
                "bAutoWidth": false,
                lengthChange: false,
                ordering: true,
                searching: true,
                paging: true,
                pageLength: 50,
                order: [[0, 'asc']],
                pagingType: 'full_numbers',
                orderClasses: false,
                //scrollCollapse: true,
                //stateSave: false,
                columnDefs: colDef,
                columns: columns,
                language: {
                    paginate: {
                        next: '<i class="fa fa-angle-right"></i>', // or '→'
                        previous: '<i class="fa fa-angle-left"></i>', // or '←'
                        first: '<i class="fa fa-angle-double-left"></i>', // or '→'
                        last: '<i class="fa fa-angle-double-right"></i>' // or '←'
                    }
                },
                buttons: ['copy', 'excel', 'colvis'],
                processing: true,
                serverSide: true,
                ajax: {
                    url: '@(Url.Content("~/Customer/LRBookingList"))',
                    type: 'GET',
                    data: function (d) { }
                },
                "initComplete": function (settings, json) {
                    gridInitComplete(table);
                },
                "drawCallback": function (settings) {
                    gridDrawCallback(this);
                }

            });
        }

        function fromReset() {

            $("#Id").val(0);
            var formattedMinimumDate = $.datepicker.formatDate("dd/mm/yy", new Date());
            $("#LRDate").datepicker("setDate", formattedMinimumDate);
            $("#Parcel").val('');
            $("#ActualWeight").val('');
            $("#ChargeWeight").val('');
            $("#Rate").val('');
            $("#Freight").val('');
            $("#Charges1").val('');
            $("#Charges2").val('');
            $("#Charges3").val('');
            $("#Charges4").val('');
            $("#Charges5").val('');
            $("#Charges6").val('');
            $("#NetAmount").val('');
            $("#InvoiceNo").val('');
            $("#InvoiceValue").val('');
            $("#PrivateMarka").val('');
            $("#Remarks").val('');
            $("#TruckLoadDate").val('');
            $("#Ch").val('');
            $("#Truck").val('');
            $("#LRNumber").val(0);
            $("#EwayBillNo").val(null).trigger('change');
            $("#AccountBranchMappingId").val(null).trigger('change');
            $("#DeliveryAccountBranchMappingId").val(null).trigger('change');
            $("#LRPayTypeId").val(null).trigger('change');
            $("#BillAccountBranchMappingId").val(null).trigger('change');
            $("#PackingId").val(null).trigger('change');
            $("#DescriptionId").val(null).trigger('change');
            $("#VehicleId").val(null).trigger('change');
            $("#GST").val('0.000');

            $("#activeTabName").text("Add");
            $(".btn-delete").hide();

        }

        function saveItem() {
            try {

                if ($("#CityIdTo").val() == null || $("#CityIdTo").val() == "") {
                    showWarning("", "Please select to city");
                    $("#CityIdTo").focus();
                    return false;
                }
                if ($("#CityIdFrom").val() == null || $("#CityIdFrom").val() == "") {
                    showWarning("", "Please select to from city");
                    $("#CityIdFrom").focus();
                    return false;
                }

                if ($("#LRNumber").val() == "") {
                    showWarning("", "Please enter lr number");
                    $("#LRNumber").focus();
                    return false;
                }

                if ($("#LRDate").val() == "") {
                    showWarning("", "Please enter lr Date");
                    $("#LRDate").focus();
                    return false;
                }

                if ($("#AccountBranchMappingId").val() == null || $("#AccountBranchMappingId").val() == "") {
                    showWarning("", "Please select consignor");
                    $("#AccountBranchMappingId").focus();
                    return false;
                }

                if ($("#DeliveryAccountBranchMappingId").val() == null || $("#DeliveryAccountBranchMappingId").val() == "") {
                    showWarning("", "Please select consignee");
                    $("#DeliveryAccountBranchMappingId").focus();
                    return false;
                }

                if ($("#LRPayTypeId").val() == null || $("#LRPayTypeId").val() == "") {
                    showWarning("", "Please select payment");
                    $("#LRPayTypeId").focus();
                    return false;
                }

                if ($("#ActualWeight").val() != null && $("#ActualWeight").val() != "") {
                    if (!/^[-+]?(\d{1,15}(\.\d{0,3})?|\.\d{1,3})$/.test($("#ActualWeight").val())) {
                        showWarning("", "Act. Kg. must be upto 15 characters before decimal point and 3 characters after decimal point long.");
                        $("#ActualWeight").focus();
                        return false;
                    }
                }

                if ($("#ChargeWeight").val() != null && $("#ChargeWeight").val() != "") {
                    if (!/^[-+]?(\d{1,15}(\.\d{0,3})?|\.\d{1,3})$/.test($("#ChargeWeight").val())) {
                        showWarning("", "Chrg. Kg. must be upto 15 characters before decimal point and 3 characters after decimal point long.");
                        $("#ChargeWeight").focus();
                        return false;
                    }
                }

                if ($("#LRRateOnId").val() == null || $("#LRRateOnId").val() == "") {
                    showWarning("", "Please select rate on");
                    $("#LRRateOnId").focus();
                    return false;
                }

                if ($("#Rate").val() != null && $("#Rate").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Rate").val())) {
                        showWarning("", "Rate must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Rate").focus();
                        return false;
                    }
                }

                if ($("#Freight").val() != null && $("#Freight").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Freight").val())) {
                        showWarning("", "Freight must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Freight").focus();
                        return false;
                    }
                }

                if ($("#InvoiceValue").val() != null && $("#InvoiceValue").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#InvoiceValue").val())) {
                        showWarning("", "Invoice Value must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#InvoiceValue").focus();
                        return false;
                    }
                }

                if ($("#LRDeliveryId").val() == null || $("#LRDeliveryId").val() == "") {
                    showWarning("", "Please select delivery at");
                    $("#LRDeliveryId").focus();
                    return false;
                }

                if ($("#LRDeliveryTypeId").val() == null || $("#LRDeliveryTypeId").val() == "") {
                    showWarning("", "Please select delivery type");
                    $("#LRDeliveryTypeId").focus();
                    return false;
                }

                if ($("#Charges1").val() != null && $("#Charges1").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges1").val())) {
                        showWarning("", "Charges1 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges1").focus();
                        return false;
                    }
                }

                if ($("#Charges2").val() != null && $("#Charges2").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges2").val())) {
                        showWarning("", "Charges2 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges2").focus();
                        return false;
                    }
                }

                if ($("#Charges3").val() != null && $("#Charges3").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges3").val())) {
                        showWarning("", "Charges3 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges3").focus();
                        return false;
                    }
                }

                if ($("#Charges4").val() != null && $("#Charges4").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges4").val())) {
                        showWarning("", "Charges4 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges4").focus();
                        return false;
                    }
                }

                if ($("#Charges5").val() != null && $("#Charges5").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges5").val())) {
                        showWarning("", "Charges5 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges5").focus();
                        return false;
                    }
                }

                if ($("#Charges6").val() != null && $("#Charges6").val() != "") {
                    if (!/^[-+]?(\d{1,16}(\.\d{0,2})?|\.\d{1,2})$/.test($("#Charges6").val())) {
                        showWarning("", "Charges6 must be upto 16 characters before decimal point and 2 characters after decimal point long.");
                        $("#Charges6").focus();
                        return false;
                    }
                }

                var savedata = new Object();
                savedata.Id = parseInt($("#Id").val());
                savedata.CityIdTo = getIntValueZero("CityIdTo");
                savedata.CityIdFrom = getIntValueZero("CityIdFrom");
                savedata.LRNumber = getIntValueZero("LRNumber");
                savedata.LRDate = moment(getDate($("#LRDate").val())).format('YYYY-MM-DDTHH:mm:ss.SSS[Z]');
                savedata.EwayBillNo = $("#EwayBillNo").val();
                savedata.AccountBranchMappingId = getIntValueZero("AccountBranchMappingId");
                savedata.DeliveryAccountBranchMappingId = getIntValueZero("DeliveryAccountBranchMappingId");
                savedata.LRPayTypeId = getIntValueZero("LRPayTypeId");
                savedata.BillAccountBranchMappingId = getIntValueNull("BillAccountBranchMappingId");
                savedata.Parcel = getIntValueNull("Parcel");
                savedata.Packing = $("#PackingId").val();
                savedata.Description = $("#DescriptionId").val();
                savedata.ActualWeight = getFloatValueNull("ActualWeight", 3);
                savedata.ChargeWeight = getFloatValueNull("ChargeWeight", 3);
                savedata.LRRateOnId = getIntValueZero("LRRateOnId");
                savedata.Rate = getFloatValueNull("Rate", 2);
                savedata.Freight = getFloatValueNull("Freight", 2);
                savedata.InvoiceNo = $("#InvoiceNo").val();
                savedata.VehicleId = getIntValueNull("VehicleId");
                savedata.InvoiceValue = getFloatValueNull("InvoiceValue", 2);
                savedata.LRDeliveryId = getIntValueZero("LRDeliveryId");
                savedata.PrivateMarka = $("#PrivateMarka").val();
                savedata.LRDeliveryTypeId = getIntValueZero("LRDeliveryTypeId");
                savedata.Remarks = $("#Remarks").val();
                savedata.Charges1 = getFloatValueNull("Charges1", 2);
                savedata.Charges2 = getFloatValueNull("Charges2", 2);
                savedata.Charges3 = getFloatValueNull("Charges3", 2);
                savedata.Charges4 = getFloatValueNull("Charges4", 2);
                savedata.Charges5 = getFloatValueNull("Charges5", 2);
                savedata.Charges6 = getFloatValueNull("Charges6", 2);

                blockUI('container');

                $.ajax({
                    type: "POST",
                    url: "@(Url.Action("SaveLRBooking", "Customer"))",
                    data: JSON.stringify(savedata),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        unblockUI('container');
                        if (data.result == RESULT_SUCCESS) {
                            fromReset();
                            showWarning("", 'LR Book saved successfully.');
                            $("#Id").val(0);
                            refreshDatatableList();
                            addClick();
                        } else {
                            showError("", data.data);
                        }
                    },
                    error: function (error) {
                        unblockUI('container');
                        showError("", error.statusText);
                    }
                });

            }
            catch (e) {
                unblockUI('container');
                showError("", e.message);
            }

        }

        function deleteItem(id) {
            if (id == 0) {
                id = $('#Id').val();
            }
            try {
                blockUI('container');
                var retrundata = AjaxCall("Get", "@(Url.Content("~/Customer/DeleteLRBooking"))" + "/" + id, "",
                    function (result) {
                        unblockUI('container');
                        var str = "";
                        try {
                            if (result.result == RESULT_SUCCESS) {
                                refreshDatatableList();
                                fromReset();
                                $('.btn-back').click();
                            } else {
                                showError('Error', result.data); //warning,  success, error, info
                            }
                        } catch (e) {
                            showError('Error', e); //warning,  success, error, info
                        }
                    },
                    function (error) {
                        unblockUI('container');
                    });
            }
            catch (err) {
                unblockUI('container');
            }
        }

        function getDetail(id, isViewMode) {
            try {
                blockUI('container');
                var retrundata = AjaxCall("Get", "@(Url.Content("~/Customer/GetLRBooking"))" + "/" + id, "",
                    function (result) {
                        unblockUI('container');
                        try {
                            if (result.result == RESULT_SUCCESS) {
                                addClick();
                                if (isViewMode) {
                                    setScreenMode(true);
                                    $("#activeTabName").text("VIEW ID# " + result.data.id);
                                } else {
                                    setScreenMode(false);
                                    $("#activeTabName").text("EDIT (ID# " + result.data.id + ")");
                                }

                                $("#Id").val(result.data.id);

                                $("#LRNumber").val(result.data.lrNumber);
                                $("#EwayBillNo").val(result.data.ewayBillNo).trigger('change');
                                $("#CityIdTo").val(result.data.cityIdTo).trigger('change');
                                $("#AccountBranchMappingId").val(result.data.accountBranchMappingId).trigger('change');
                                $("#DeliveryAccountBranchMappingId").val(result.data.deliveryAccountBranchMappingId).trigger('change');
                                $("#LRPayTypeId").val(result.data.lrPayTypeId).trigger('change');
                                $("#BillAccountBranchMappingId").val(result.data.billAccountBranchMappingId).trigger('change');
                                $("#PackingId").val(result.data.packing).trigger('change');
                                $("#DescriptionId").val(result.data.description).trigger('change');
                                $("#LRRateOnId").val(result.data.lrRateOnId).trigger('change');
                                $("#VehicleId").val(result.data.vehicleId).trigger('change');
                                $("#LRDeliveryId").val(result.data.lrDeliveryId).trigger('change');
                                $("#LRDeliveryTypeId").val(result.data.lrDeliveryTypeId).trigger('change');

                                $("#LRDate").val(moment(result.data.lrDate.split('T')[0]).format('DD/MM/YYYY'));
                                $("#Parcel").val(result.data.parcel);
                                $("#ActualWeight").val(result.data.actualWeight ? result.data.actualWeight.toFixed(3) : '');
                                $("#ChargeWeight").val(result.data.chargeWeight ? result.data.chargeWeight.toFixed(3) : '');
                                $("#Freight").val(result.data.freight ? result.data.freight.toFixed(2) : '');
                                $("#Rate").val(result.data.rate ? result.data.rate.toFixed(2) : '');
                                $("#Charges1").val(result.data.charges1 ? result.data.charges1.toFixed(2) : '');
                                $("#Charges2").val(result.data.charges2 ? result.data.charges2.toFixed(2) : '');
                                $("#Charges3").val(result.data.charges3 ? result.data.charges3.toFixed(2) : '');
                                $("#Charges4").val(result.data.charges4 ? result.data.charges4.toFixed(2) : '');
                                $("#Charges5").val(result.data.charges5 ? result.data.charges5.toFixed(2) : '');
                                $("#Charges6").val(result.data.charges6 ? result.data.charges6.toFixed(2) : '');
                                $("#InvoiceNo").val(result.data.invoiceNo);
                                $("#InvoiceValue").val(result.data.invoiceValue ? result.data.invoiceValue.toFixed(2) : '');
                                $("#PrivateMarka").val(result.data.privateMarka);
                                $("#Remarks").val(result.data.remarks);
                                $("#Ch").val(result.data.branchChalanNo);
                                $("#Truck").val(result.data.vehilcleNo);
                                $("#TruckLoadDate").val(result.data.chalanDate !== '' ? moment(result.data.chalanDate.split('T')[0]).format('DD/MM/YYYY') : '');

                                var cityFromStr = "<option value='" + result.data.cityIdFrom + "'>" + result.data.cityFrom + "</option>";
                                $("#CityIdFrom").html(cityFromStr);
                                $("#CityIdFrom").val(result.data.cityIdFrom).trigger("change");

                                CalcNetAmount();

                            } else {
                                showError('Error', result.data); //warning,  success, error, info
                            }
                        } catch (e) {
                            unblockUI('container');
                            showError('Error', e); //warning,  success, error, info
                        }
                    },
                    function (error) {

                    });
            }
            catch (err) {
            }
        }
    </script>
}
